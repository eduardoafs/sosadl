// ok
with Base

library testLibrary6 is {
  datatype Complex is tuple{r:integer,i:integer} {
  	function (a:Complex)::add(b:Complex):Complex is {
  	  return tuple{r = a::r + b::r, i = a::i + b::i}
  	}
  }

  function (a:Complex)::mult(b:tuple{r:integer,i:integer}):tuple{r:integer,i:integer} is {
  	return tuple{r = (a::r * b::r) - (a::i * b::i),
  				 i = (a::r * b::i) + (a::i * b::r)
  	}
  }
}